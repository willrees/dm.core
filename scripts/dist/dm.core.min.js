window.dm=function(){function a(a,c,d,e,f){var g=f?b:b.fn;void 0===g[a]&&(void 0!==d&&null!==d&&(b.config[a]=d),b.registeredComponents.push({name:a,component:c,dependencies:e,initialized:!1,global:f}))}var b=function(a){return new b.fn.init(a)};return b.config={basePath:void 0},b.utilities={},b.registeredComponents=[],b.fn=b.prototype,b.fn.init=function(a){return this.selector=a,console.log(this),this},b.fn.init.prototype=b.prototype,b.componentFactory=function(b,c,d,e){a(b,c,d,e,!1)},b.globalComponentFactory=function(b,c,d,e){a(b,c,d,e,!0)},b.bind=function(a){void 0!=a&&(this.config=jQuery.extend(!0,this.config,a));for(var c=0;c<this.registeredComponents.length;c++){var d=this.registeredComponents[c];if(d.initialized===!1){d.initialized=!0;var e=d.global?b:b.fn;e[d.name]=d.component.apply(e[d.name],d.dependencies)}}},b}(),window.dm.List=function(a){"use strict";var b=[];return void 0!==a&&(b=a),b.first=function(){return this[0]},b.last=function(){return this[this.length-1]},b.where=function(a){if("function"!=typeof a)throw new TypeError;var c=[];return b.forEach(function(b,d,e){a(JSON.parse(JSON.stringify(b)))&&c.push(b)}),new dm.List(c)},b.pluck=function(a){if("string"!=typeof a)throw new TypeError;var c=[];return b.forEach(function(b,d,e){void 0!==b[a]&&c.push(b[a])}),new dm.List(c)},b.shuffle=function(){for(var a,c,d=b.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,a=b[d],b[d]=b[c],b[c]=a;return b},b.forEach||(b.forEach=function(a){for(var b=0;b<this.length;b++)a.apply(this,[this[b],b,this])}),b.indexOf||(b.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c}),b},dm.globalComponentFactory("featureDetection",function(a){function b(b){var c=!1,d="Webkit Moz ms O".split(" "),e=a.createElement("div"),f=null;if(b=b.toLowerCase(),void 0!==e.style[b]&&(c=!0),c===!1){f=b.charAt(0).toUpperCase()+b.substr(1);for(var g=0;g<d.length;g++)if(void 0!==e.style[d[g]+f]){c=!0;break}}return c}var c=[],d=function(a,b,d,e){c.push({name:a,test:b,validClass:d,inValidClass:e})},e=function(){for(var b="";c.length>0;){var d=c.pop();b=d.test()?b+" "+d.validClass:b+" "+d.inValidClass}var e=a.querySelectorAll("html");e[0].className=e[0].className+b};return d("hasTouch",function(){return"ontouchstart"in window||"onmsgesturechange"in window},"touch","no-touch"),d("hasCssTransition",function(){return b("transition")},"csstransitions","no-csstransitions"),d("hasCssTransforms",function(){return b("transform")},"csstransform","no-csstransform"),d("hasCssAnimation",function(){return b("animation")},"cssanimation","no-cssanimation"),dm.config.featureDetection.enabled&&e(),{runTests:e,createTest:d}},{enabled:!1},[document]),dm.globalComponentFactory("http",function(){function a(a){c();var d=$.Deferred();return a.success=function(a,c,f){a.Success||void 0===a.Success&&200===f.status?d.resolve(a):e.redirectOnAllErrors===!0?b(f):d.reject(a.Errors)},a.error=function(a,c,d){b(a,c,d)},a.data&&e.validateAntiForgeryToken===!0&&(a.data.__RequestVerificationToken=$('input[name="__RequestVerificationToken"]').val()),$.ajax(a),d.promise()}function b(a){450!==a.status&&401!==a.status&&403!==a.status||!d.http.authentication.usesAuthentication?e.debug===!1&&d.http.errors.redirectOnErrors?window.location=e.errorPage:e.debug&&(alert("HTTP error occured"),console.log(arguments)):window.location=e.loginPage+"?returnUrl="+window.location.href.replace(e.basePath,"/")}function c(){if(d.http.errors.redirectOnErrors&&void 0===d.http.errors.defaultErrorPage)throw"You must set the path to the sites generic error page in dm.config.http.errors.defaultErrorPage";if(d.http.authentication.usesAuthentication&&void 0===d.http.authentication.loginPage)throw"You must set the path to the sites login page in dm.config.http.authentication.loginPage";if(void 0!==d.basePath)throw"The sites base path has not been configured in dm.config.basePath"}var d=dm.config,e={debug:!1,validateAntiForgeryToken:!1,redirectOnAllErrors:!1},f=function(b){return a({type:"GET",url:b,cache:!1})},g=function(b,c){return a({type:"POST",url:b,cache:!1,data:c})},h=function(b,c){return a({type:"PUT",url:b,cache:!1,data:c})},i=function(b,c){return a({type:"DELETE",url:b,cache:!1,data:c})};return{get:f,post:g,put:h,"delete":i,settings:e}},{errors:{redirectOnErrors:!0,defaultErrorPage:void 0},authentication:{usesAuthentication:!0,loginPage:void 0}},[jQuery]),dm.utilities.date=function(a){"use strict";return{isDate:function(a){var b=a;if(""===b)return!1;var c=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/,d=b.match(c);if(null===d)return!1;var e=parseInt(d[1]),f=parseInt(d[3]),g=parseInt(d[5]);if(1>e||e>12)return!1;if(1>f||f>31)return!1;if((4==e||6==e||9==e||11==e)&&31==f)return!1;if(2==e){var h=g%4===0&&(g%100!==0||g%400===0);if(f>29||29==f&&!h)return!1}return!0}}}(jQuery);