window.dm=function(){function a(a,c,d,e,f){var g=f?b:b.fn;console.log("namepace"),console.log(g),void 0===g[a]&&(void 0!==d&&null!==d&&(b.config[a]=d),b.registeredComponents.push({name:a,component:c,dependencies:e,initialized:!1,global:f}))}var b=function(a){return new b.fn.init(a)};return b.config={basePath:void 0,errors:{redirectOnErrors:!0,defaultErrorPage:void 0},authentication:{usesAuthentication:!0,loginPage:void 0}},b.utilities={},b.registeredComponents=[],b.fn=b.prototype,b.fn.init=function(a){return this.selector=a,console.log(this),this},b.fn.init.prototype=b.prototype,b.componentFactory=function(b,c,d,e){a(b,c,d,e,!1)},b.globalComponentFactory=function(b,c,d,e){a(b,c,d,e,!0)},b.bind=function(a){void 0!=a&&(this.config=jQuery.extend(!0,this.config,a));for(var c=0;c<this.registeredComponents.length;c++){var d=this.registeredComponents[c];if(d.initialized===!1){d.initialized=!0;var e=d.global?b:b.fn;e[d.name]=d.component(d.dependencies)}}},b}(),window.dm.List=function(a){"use strict";var b=[];return void 0!==a&&(b=a),b.first=function(){return this[0]},b.last=function(){return this[this.length-1]},b.where=function(a){if("function"!=typeof a)throw new TypeError;var c=[];return b.forEach(function(b,d,e){a(JSON.parse(JSON.stringify(b)))&&c.push(b)}),new dm.List(c)},b.pluck=function(a){if("string"!=typeof a)throw new TypeError;var c=[];return b.forEach(function(b,d,e){void 0!==b[a]&&c.push(b[a])}),new dm.List(c)},b.shuffle=function(){for(var a,c,d=b.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,a=b[d],b[d]=b[c],b[c]=a;return b},b.forEach||(b.forEach=function(a){for(var b=0;b<this.length;b++)a.apply(this,[this[b],b,this])}),b.indexOf||(b.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c}),b},window.dm.http=function(a,b){function c(){if(b.errors.redirectOnErrors&&void 0===b.errors.defaultErrorPage)throw"You must set the path to the sites generic error page in dm.configuration.errors.defaultErrorPage";if(b.authentication.usesAuthentication&&void 0===b.authentication.loginPage)throw"You must set the path to the sites login page in dm.authentication.loginPage";if(void 0!==b.basePath)throw"The sites base path has not been configured in dm.configuration.basePath"}var d={debug:!1,validateAntiForgeryToken:!1,redirectOnAllErrors:!1},e=function(b){c();var e=a.Deferred();return b.success=function(a,b,c){a.Success||void 0===a.Success&&200===c.status?e.resolve(a):d.redirectOnAllErrors===!0?f(c):e.reject(a.Errors)},b.error=function(a,b,c){f(a,b,c)},b.data&&d.validateAntiForgeryToken===!0&&(b.data.__RequestVerificationToken=a('input[name="__RequestVerificationToken"]').val()),a.ajax(b),e.promise()},f=function(a){450!==a.status&&401!==a.status&&403!==a.status||!b.authentication.usesAuthentication?d.debug===!1&&b.errors.redirectOnErrors?window.location=d.errorPage:d.debug&&(alert("HTTP error occured"),console.log(arguments)):window.location=d.loginPage+"?returnUrl="+window.location.href.replace(d.basePath,"/")},g=function(a){return e({type:"GET",url:a,cache:!1})},h=function(a,b){return e({type:"POST",url:a,cache:!1,data:b})},i=function(a,b){return e({type:"PUT",url:a,cache:!1,data:b})},j=function(a,b){return e({type:"DELETE",url:a,cache:!1,data:b})};return{get:g,post:h,put:i,"delete":j,settings:d}}(jQuery,dm.config),dm.utilities.date=function(a){"use strict";return{isDate:function(a){var b=a;if(""===b)return!1;var c=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/,d=b.match(c);if(null===d)return!1;var e=parseInt(d[1]),f=parseInt(d[3]),g=parseInt(d[5]);if(1>e||e>12)return!1;if(1>f||f>31)return!1;if((4==e||6==e||9==e||11==e)&&31==f)return!1;if(2==e){var h=g%4===0&&(g%100!==0||g%400===0);if(f>29||29==f&&!h)return!1}return!0}}}(jQuery);